(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6766:function(e,t,r){Promise.resolve().then(r.bind(r,3543))},3543:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var s=r(539),a=r(9856);let l=a.forwardRef(function(e,t){let{className:r,variant:a="default",size:l="md",...n}=e;return(0,s.jsx)("button",{ref:t,className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}("inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{default:"bg-purple-600 text-white hover:bg-purple-700",ghost:"bg-transparent hover:bg-slate-800/50",outline:"border border-slate-700 bg-transparent hover:bg-slate-800/50"}[a],{sm:"h-8 px-3 text-sm",md:"h-10 px-4",lg:"h-12 px-6 text-lg"}[l],r),...n})});function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}function o(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:n("rounded-xl border border-slate-800 bg-slate-900/60 text-slate-100 shadow-lg",t),...r})}function i(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:n("p-6 border-b border-slate-800",t),...r})}function c(e){let{className:t,...r}=e;return(0,s.jsx)("h3",{className:n("text-xl font-bold",t),...r})}function d(e){let{className:t,...r}=e;return(0,s.jsx)("p",{className:n("text-sm text-slate-400",t),...r})}function p(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:n("p-6",t),...r})}function u(e){let{className:t,...r}=e;return(0,s.jsx)("span",{className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}("inline-flex items-center gap-1 rounded-full border border-slate-700 bg-slate-800/50 px-3 py-1 text-xs font-medium text-slate-300",t),...r})}let m=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),x=e=>{let t=h(e);return t.charAt(0).toUpperCase()+t.slice(1)},f=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},g=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let v=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:c,...d}=e;return(0,a.createElement)("svg",{ref:t,...b,width:s,height:s,stroke:r,strokeWidth:n?24*Number(l)/Number(s):l,className:f("lucide",o),...!i&&!g(d)&&{"aria-hidden":"true"},...d},[...c.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(i)?i:[i]])}),y=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:l,...n}=r;return(0,a.createElement)(v,{ref:s,iconNode:t,className:f("lucide-".concat(m(x(e))),"lucide-".concat(e),l),...n})});return r.displayName=x(e),r},j=y("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),N=y("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),w=y("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function k(){let[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),[x,f]=(0,a.useState)([]),[g,b]=(0,a.useState)({}),v=async()=>{let t=e.split(/[\n,]/).map(e=>e.trim()).filter(Boolean);if(0===t.length){n("Please enter one or more API names (e.g., openai, github, stripe)");return}h(!0),n("Planning steps…"),f([]);try{let e=await fetch("/api/provision",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({providers:t})}),r=await e.json();if(!e.ok)throw Error((null==r?void 0:r.error)||"Failed to plan");f(r.plans||[]),n("Follow the steps below to provision each provider.")}catch(e){n((null==e?void 0:e.message)||"Failed to plan steps.")}finally{h(!1)}},y=async e=>{var t;let r=null===(t=g[e])||void 0===t?void 0:t.trim();if(!r){n("Enter a key for ".concat(e,"."));return}h(!0);try{let t=await fetch("/api/api-key",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:e,key:r})}),s=await t.json();if(!t.ok)throw Error((null==s?void 0:s.error)||"Failed to save key");n("".concat(e,": key stored (id=").concat(s.id,").")),b(t=>({...t,[e]:""}))}catch(t){n((null==t?void 0:t.message)||"Failed to store key for ".concat(e,"."))}finally{h(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950",children:[(0,s.jsx)("nav",{className:"border-b border-slate-800 bg-slate-950/50 backdrop-blur-xl",children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(j,{className:"h-8 w-8 text-purple-400"}),(0,s.jsx)("span",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"SecretForge AI"})]})})}),(0,s.jsxs)("section",{className:"container mx-auto px-6 py-20",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)(u,{className:"mb-4 bg-purple-900/50 text-purple-300 border-purple-700",children:[(0,s.jsx)(N,{className:"w-3 h-3 mr-1"})," Provision API Keys Automatically"]}),(0,s.jsx)("h1",{className:"text-4xl md:text-5xl font-black mb-3",children:"What API keys do you need?"}),(0,s.jsx)("p",{className:"text-slate-300",children:"Enter the APIs you need and we’ll provision credentials for you."})]}),(0,s.jsxs)(o,{className:"max-w-3xl mx-auto",children:[(0,s.jsxs)(i,{children:[(0,s.jsx)(c,{children:"Request Keys"}),(0,s.jsx)(d,{children:"Comma or newline separated (e.g., openai, github, stripe)"})]}),(0,s.jsx)(p,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"openai\\ngithub\\nstripe",className:"w-full h-32 rounded-md border border-slate-700 bg-slate-900 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent p-3"}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(l,{onClick:v,disabled:m,className:"bg-purple-600 hover:bg-purple-700",children:m?"Planning…":"Fetch Steps"})}),r&&(0,s.jsx)("p",{className:"text-sm text-slate-400",children:r}),x.length>0&&(0,s.jsx)("div",{className:"mt-4 space-y-4",children:x.map(e=>(0,s.jsxs)("div",{className:"border border-slate-800 rounded-md p-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(w,{className:"h-4 w-4 text-purple-400"}),(0,s.jsx)("span",{className:"font-medium",children:e.provider}),(0,s.jsxs)("span",{className:"text-xs text-slate-400",children:["(",e.type,")"]})]}),"oauth"===e.type?(0,s.jsx)("a",{href:"/api/oauth/start?provider=".concat(encodeURIComponent(e.provider)),className:"text-sm text-purple-300 hover:text-purple-200",children:"Authorize"}):null]}),(0,s.jsx)("ul",{className:"mt-2 text-sm text-slate-400 list-disc pl-5",children:e.steps.map((e,t)=>(0,s.jsx)("li",{children:e},t))}),"manual"===e.type&&(0,s.jsxs)("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-2 items-center",children:[(0,s.jsx)("input",{type:"password",placeholder:"Paste ".concat(e.provider," API key"),value:g[e.provider]||"",onChange:t=>b(r=>({...r,[e.provider]:t.target.value})),className:"md:col-span-2 w-full rounded-md border border-slate-700 bg-slate-900 text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent p-2"}),(0,s.jsx)(l,{onClick:()=>y(e.provider),disabled:m,className:"bg-purple-600 hover:bg-purple-700",children:"Save Key"})]})]},e.provider))})]})})]})]})]})}}},function(e){e.O(0,[684,651,744],function(){return e(e.s=6766)}),_N_E=e.O()}]);